# ADR-0002: Adopt Upstream Lexicon Shapes/NSIDs for API Naming

Status: Accepted
Date: 2025-10-08

## Context
The upstream specs use Lexicon v1 JSON with NSIDs (reverse-DNS) to define record/query/procedure shapes (see `schemas/SPEC-README.md`, `schemas/INDEX.md`). Aligning server API naming with these shapes eases migration for atproto developers and improves consistency across implementations.

## Decision
- API endpoints and Go DTOs SHOULD mirror the naming and field shapes of the `com.registryaccord.identity` Lexicon definitions (schema language only; we do not embed Lexicon files in this repo).
- Where breaking changes are necessary, new versioned names MUST be used consistent with upstream `GOVERNANCE.md` (additive changes preferred; breaking under new identifiers with ADR rationale).

## Rationale
- Reduces cognitive overhead and mismatches between spec examples and implementation.
- Facilitates validation and documentation alignment.

## Consequences
- Endpoint paths and JSON field names will track spec examples; internal implementation remains idiomatic Go.
- Changes that affect public API require updating this ADR (or a new ADR) and notifying spec editors per CODEOWNERS.
